<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  {{ block "metadata" . }} {{ if .Page.Title }}
  <title>{{.Page.Title }} | {{ .Site.Title }}</title>
  {{ else}}
  <title>{{ .Site.Title }}</title>
  {{ end }} {{ if .Page.Description }}
  <meta name="description" content="{{ .Page.Description }}" />
  {{ else }}
  <meta name="description" content="{{ .Site.Params.Description }}" />
  {{ end }} {{ end }}
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/foundation-sites@6.6.3/dist/css/foundation.min.css"
    integrity="sha256-ogmFxjqiTMnZhxCqVmcqTvjfe1Y/ec4WaRj/aQPvn+I=" crossorigin="anonymous" />
  {{ $css := resources.Get "css/main.css" | resources.Fingerprint }}
  <link rel="stylesheet" href="{{ $css.Permalink }}" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
  <link rel="manifest" href="/site.webmanifest" />
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5" />
</head>

<body>
  <div class="grid-container">

    {{ block "header" . }}

    <header>
      <nav class="top-bar">
        <div class="top-bar-left">
          <h1 class="nav-title"><a href="/">{{ .Site.Title }}</a></h1>
        </div>
        <div class="top-bar-right">
          <a class="toc-link" href="/">Table of Contents</a>
        </div>
      </nav>
    </header>

    {{ end }}

    <main>
      {{ block "main" . }} {{ end }}
    </main>

  </div>
  {{ block "footer" . }}

  {{ if isset .Params "script" }}
  {{ $opts := dict "targetPath" "viz/main.js" "minify" "true"}}
  {{ $script := resources.Get .Params.script | js.Build $opts | resources.Fingerprint }}
  <script type="text/javascript" src="{{ $script.Permalink }}"></script>
  {{ end }}

  {{ if isset .Params "style" }}
  {{ $style := resources.Get .Params.style | resources.Minify | resources.Fingerprint }}
  <link rel="stylesheet" href="{{ $style.Permalink }}">
  {{ end }}

  {{ end}}
</body>

</html>
